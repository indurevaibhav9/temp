<div class="bg-white mx-4 flex flex-col items-center">
  <!-- Title -->
  <span class="text-primary-0 font-primary text-3xl text-center mt-10">Tell Us About Your Experience</span>

  <!-- Satisfaction question -->
  <span class="text-black font-secondary text-lg mt-4">Are you satisfied with the service?</span>

  <form [formGroup]="feedbackForm" class="form-container w-full flex flex-col items-center">
    <!-- Star rating -->
    <div class="mt-5 flex justify-center space-x-2">
      <fa-icon
        [icon]="faStar"
        (click)="setRating(1)"
        [ngClass]="{'star-clicked': rating >= 1, 'star': rating < 1}"
      ></fa-icon>
      <fa-icon
        [icon]="faStar"
        (click)="setRating(2)"
        [ngClass]="{'star-clicked': rating >= 2, 'star': rating < 2}"
      ></fa-icon>
      <fa-icon
        [icon]="faStar"
        (click)="setRating(3)"
        [ngClass]="{'star-clicked': rating >= 3, 'star': rating < 3}"
      ></fa-icon>
      <fa-icon
        [icon]="faStar"
        (click)="setRating(4)"
        [ngClass]="{'star-clicked': rating >= 4, 'star': rating < 4}"
      ></fa-icon>
      <fa-icon
        [icon]="faStar"
        (click)="setRating(5)"
        [ngClass]="{'star-clicked': rating >= 5, 'star': rating < 5}"
      ></fa-icon>
    </div>

    <!-- Error message for star rating -->
    <div *ngIf="submitted && rating === 0" class="font-secondary text-primary-0 text-sm ml-3 mt-1 text-center">
      Please select a star rating
    </div>

    <!-- Display rating text -->
    <div class="mt-5 text-center">
      <span>{{ ratingTexts[rating] }}</span>
    </div>

    <!-- Feedback input -->
    <div class="mt-5 text-center">
      <label class="text-black text-[18px] font-roboto" for="feedback-input">What would you like us to improve?</label>
    </div>
    <div class="mt-2">
      <textarea id="feedback-input" 
                class="h-[100px] w-[325px] form-control input input-primary text-center" 
                placeholder="Enter your feedback (optional)" 
                formControlName="feedback"></textarea>
    </div>
    <span class="text-primary-0 text-sm ml-3" *ngIf="feedbackForm.controls['feedback'].hasError('maxlength')">
      Feedback should be less than 150 characters.
    </span>

    <!-- Feature request input -->
    <div class="mt-5 text-center">
      <label class="text-black text-[18px] font-roboto" for="feature-request-input">Request a new feature</label>
    </div>
    <div class="mt-2">
      <textarea id="feature-request-input" 
                class="h-[95px] w-[325px] form-control input input-primary text-center" 
                placeholder="Got a feature in mind? Let us know" 
                formControlName="featureRequest"></textarea>
    </div>
    <span class="text-primary-0 text-sm ml-3" *ngIf="feedbackForm.controls['featureRequest'].hasError('maxlength')">
      Feature request should be less than 200 characters.
    </span>

    <!-- Submit button -->
    <div class="mt-5">
      <button 
  class="btn btn-primary text-white font-medium rounded-md px-5 py-3 mt-12 transition transform hover:bg-primary-700 hover:scale-105 active:bg-primary-800 focus:ring focus:ring-primary-500 focus:ring-opacity-50"
  (click)="feedbackmethod()">
    SUBMIT
</button>

    </div>
  </form>

  <!-- Pop-up component -->
  <app-pop-up 
    *ngIf="showPopUp"
    [messageTitle]="popUpTitle"
    [messageBody]="popUpBody"
    (close)="closePopUp()">
  </app-pop-up>
</div>
